---
title: Getting started
---

This page will take you through the setup you need to get started with Mock Service Worker. It assumes you have got a JavaScript project ready and running.

## Install

First, install the `msw` package into your application:

```bash
$ npm install msw --save-dev
```

## Configure

As the next step, place the Service Worker file in your project's public directory. To do so, run the following command:

```bash
$ npx msw init <PUBLIC_DIR>
```

Replace the `<PUBLIC_DIR>` placeholder with the relative path to your server's public directory (for example, `npx msw init ./public`).

### Where is my "public" directory?

A public directory is usually a root directory server by your server (i.e. `./build`, `./public`, or `./dist`). This directory is often committed to Git, and so **should be the Mock Service Worker**.

#### Common public directories

Below you can find a list of public directories in most popular JavaScript project generators.

| Project name                                     | Public directory |
| ------------------------------------------------ | ---------------- |
| [Create React App](https://create-react-app.dev) | `./public`       |
| [GatsbyJS](https://www.gatsbyjs.org)             | `./public`       |
| [NextJS](https://nextjs.org)                     | `./static`       |

<Hint>
  Not sure where is your public directory? Reach out to the maintainers of the
  development stack that you are using, they should be able to help.
</Hint>

## Define mocks

Create a `mocks.js` file where we the mocking logic will be described.

```bash
$ touch src/mocks.js
```

We will fill it with the next content:

```js
// src/mocks.js
import { composeMocks, rest } from 'msw'

// Configure mocking routes
const { start } = composeMocks(
  rest.get('https://api.github.com/repos/:owner/:repo', (req, res, ctx) => {
    // Access request's params
    const { owner, repo } = req.params

    return res(
      // Set custom status
      ctx.status(200),

      // Set headers
      ctx.set({ 'X-Header': 'Mocked value' }),

      // Delay the response
      ctx.delay(1000),

      // send JSON response body
      ctx.json({
        name: 'mocked-name',
        owner,
        repo,
      }),
    )
  }),
)

/* Start the Service Worker */
start()
```

> Explore each mock definition line in more detail on the [Mock overview](/docs/basics/mock-overview) page.

## Integrate

In order for the `mocks.js` file to be executed on runtime, you have to import the module into your application. Since mocking is a development-only procedure, it's highly recommended that you include the mocking definition file conditionally during the build. Please see the build configuration examples below for more details.

<Hint mode="warning">
  Note that we <strong>do not recommend</strong> including Mock Service Worker
  in production environment. Doing so may lead to a distorted experience for
  your customers.
</Hint>

### Using webpack

```js
// webpack.config.js
const __DEV__ = process.env.NODE_ENV === 'development'

module.exports = {
  entry: [
    // Conditionally include mocks in development
    __DEV__ && 'src/mocks.js',

    // Include your application's entry
    'src/index.js',
  ].filter(Boolean),
  // The rest of your webpack config...
}
```

### Using Rollup

```js
// rollup.config.js
const __DEV__ = process.env.NODE_ENV === 'development'

export default {
  input: [
    // Conditionally include mocks in development
    __DEV__ && 'src/mocks.js',

    // Include your application's entry
    'src/main.js',
  ].filter(Boolean),
  // The rest of your Rollup config...
}
```

### Using conditional import

In case you are not sure about how to modify your building configuration, you can always provision a conditional import statement in your application's code:

```js
// src/index.js
if (process.env.NODE_ENV === 'development') {
  require('./mocks')
}
```

## Update on reload

Service Worker is designed as a caching tool. However, we don't want our mocking definitions to be cached during development, since that would result into outdated mocks.

It's highly recommended to enable "Update on reload" setting of Service Workers functionality in your browser. This will force Service Worker to update on each page reload, ensuring the latest logic is applied. See the browser-specific instructions on how to do that below.

> Read more about the [Service Worker lifecycle](https://developers.google.com/web/fundamentals/primers/service-workers/lifecycle).

### Chrome

1. Open your Chrome development tools.
1. Navigate to the "**Application**" tab in the dev tools.
1. Open the "**Service Workers**" section on the navigation menu on the left.
1. Check the "**Update on reload**" checkbox.

> TODO: ADD the image here

## Verify

Upon successful completion of this tutorial you should see the following message in your browser's console:

> TODO Add the message image

Try performing a request to the mocked route to see the mocking in action:

```js
fetch('https://api.github.com/repos/octocat/octocat')
```
